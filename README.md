# Nepal Constitution - Bilingual Dataset

Complete bilingual (Nepali + English) dataset of Nepal's Constitution with 100% coverage.

## Files

### Data Files

- **`constitution_bilingual.json`** (1.3 MB)
  - Main bilingual dataset
  - 35 parts, 308 articles
  - 100% Nepali coverage, 95.8% English coverage
  - Paragraph-level structure

- **`per-sentence.json`** (1.5 MB)
  - Sentence-level bilingual dataset
  - Same 35 parts, 308 articles
  - Content split into individual sentences
  - 1:1 aligned sentence pairs (Nepali ↔ English)
  - Better for sentence-by-sentence alignment and analysis

### Website

- **`index.html`** (50 KB)
  - Minimal black & white bilingual website
  - Loads `constitution_bilingual.json`, `per-sentence.json`, and `dictionary.json`
  - Features:
    - Search functionality
    - Language toggle (Both/नेपाली/English)
    - View mode toggle (Paragraph/Sentence)
    - **Meaning Mode**: Highlight any Nepali word to see English translations
    - Clean typography
    - Print-friendly
  - To view: `python3 -m http.server 8000`

- **`dictionary.json`** (1.1 MB)
  - Nepali-English dictionary with 2,581 words
  - Extracted from aligned sentence pairs using TF-IDF
  - Each entry includes translations with confidence scores and frequency
  - Generated by `build_dictionary.py`

## Data Structure

### constitution_bilingual.json

```json
{
  "constitution": {
    "title": {"en": "...", "np": "..."},
    "preamble": {"en": "...", "np": "..."},
    "parts": [
      {
        "number": 1,
        "title": {"en": "Preliminary", "np": "प्रारम्भिक"},
        "articles": [
          {
            "number": "१.",
            "title": {"en": "...", "np": "..."},
            "content": {
              "np": [{"type": "text", "text": "..."}],
              "en": [{"type": "subsection", "identifier": "(1)", "text": "..."}]
            }
          }
        ]
      }
    ]
  }
}
```

### per-sentence.json

```json
{
  "constitution": {
    "title": {"en": "...", "np": "..."},
    "preamble": {
      "np": {"sentences": ["sentence 1", "sentence 2", ...]},
      "en": {"sentences": ["sentence 1", "sentence 2", ...]}
    },
    "parts": [
      {
        "number": 1,
        "title": {"en": "...", "np": "..."},
        "articles": [
          {
            "number": "१.",
            "title": {"en": "...", "np": "..."},
            "content": {
              "np": [
                {
                  "type": "subsection",
                  "identifier": "(१)",
                  "sentences": [
                    {"text": "sentence 1"},
                    {"text": "sentence 2"}
                  ]
                }
              ],
              "en": [...]
            }
          }
        ]
      }
    ]
  }
}
```

## Statistics

- **Parts**: 35
- **Total Articles**: 308
- **Nepali Coverage**: 308/308 (100%)
- **English Coverage**: 295/308 (95.8%)
- **Nepali Sentences**: 3,042
- **English Sentences**: 1,646
- **Preamble Sentences**: 31 Nepali, 1 English
- **Text Quality**: Perfect Unicode (no corruption)

## Sentence Splitting

- **Nepali**: Split by Devanagari danda (।)
- **English**: Split by period (.), exclamation (!), question mark (?)

## Usage Examples

### Load paragraph-level data
```python
import json
with open('constitution_bilingual.json') as f:
    data = json.load(f)

# Access Article 7
article7 = data['constitution']['parts'][0]['articles'][6]
print(article7['title']['np'])  # सरकारी कामकाजको भाषा
```

### Load sentence-level data
```python
import json
with open('per-sentence.json') as f:
    data = json.load(f)

# Access sentences in Article 7
article7 = data['constitution']['parts'][0]['articles'][6]
for item in article7['content']['np']:
    if item['type'] == 'sentence':
        print(item['text'])
```

## Website

Run local server:
```bash
python3 -m http.server 8000
```

Open: http://localhost:8000

Features:
- ✅ Minimal black & white design
- ✅ Bilingual display (Both/नेपाली/English)
- ✅ View mode toggle (Paragraph/Sentence)
  - Paragraph view: Shows content in paragraph format
  - Sentence view: Shows 1:1 aligned sentence pairs
- ✅ **Meaning Mode**: Highlight/select any Nepali word to see translations
  - Toggle meaning mode with the floating button (bottom-right)
  - Shows top 5 translations with confidence scores
  - Uses TF-IDF weighted dictionary for quality results
- ✅ Search across all content
- ✅ Clean typography
- ✅ Print-friendly

## Building the Dictionary

To regenerate the dictionary from scratch:

```bash
python3 build_dictionary.py
```

This will:
1. Load `per-sentence.json`
2. Extract 1,339 aligned Nepali-English sentence pairs
3. Build a word co-occurrence matrix
4. Apply TF-IDF weighting to filter common words
5. Generate `dictionary.json` with ~2,581 Nepali words

The script uses:
- Stop word filtering to remove common English words (the, a, and, etc.)
- TF-IDF scoring for better translation quality
- Minimum co-occurrence threshold of 2
- Top 5 translations per word

## Project Files

```
constitution/
├── constitution_bilingual.json (1.3 MB) - Paragraph-level bilingual data
├── per-sentence.json          (1.4 MB) - Sentence-level aligned pairs
├── dictionary.json            (1.1 MB) - Nepali-English dictionary (2,581 words)
├── build_dictionary.py        (5.5 KB) - Dictionary builder script
├── index.html                 (50 KB)  - Interactive website with meaning mode
└── README.md                  (5.8 KB) - Documentation
```

## Source

- **Nepali Source**: Google Drive PDF with Preeti ASCII encoding
- **English Source**: bewakes.com constitution data
- **Conversion**: npttf2utf library (ASCII → Unicode)
- **Quality**: 100% clean Unicode, no character corruption

## License

Nepal Constitution is a public document.
